{% extends 'base.html.twig' %}

{% block title %} e-Feng Shui {% endblock %}

{% block body %}


<h2>{% trans %}My account{% endtrans %}</h2>

{# A VERIFIER #}
<div class="diag">
<div class="flex-fill">
  <div class="w-50 ">
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Mes informations</h5>
                <div class="form-group">
                    <label for="nom">Mon identifiant</label>
                    <input type="text" class="form-control" id="id" name="id" value="{{ app.user.id}}">
                </div>
                <div class="form-group">
                    <label for="nom">Nom</label>
                    <input type="text" class="form-control" id="nom" name="nom" value="{{ app.user.nom }}">
                </div>
                <div class="form-group">
                    <label for="nom">Prenom</label>
                    <input type="text" class="form-control" id="prenom" name="prenom" value="{{ app.user.prenom }}">
                </div>
            <a href="{{ path("user_modifier", {id: app.user.id}) }}" class="btn btn-dark">Modifier mon compte</a>
            <a href="{{ path("user_supprimer", {id: app.user.id}) }}" class="btn btn-dark">Supprimer mon Compte</a>
        
        </div>
    </div>
  </div>


  <div class="w-50 ">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">Mes diagnostics</h5>
            <table class="table table-bordered">

<h3>{% trans %}My informations {% endtrans %}</h3>

    <table class="table table-bordered">
        <thead>
            <tr>
                <th>{% trans %}Id{% endtrans %}</th><th>{% trans %}Name{% endtrans %}</th><th>{% trans %}First name{% endtrans %}</th>
                <th>{% trans %}Actions{% endtrans %}</th>
            </tr>
        </thead>

            <tr>
                <td>{{ app.user.id }}</td>
                <td>{{ app.user.nom }}</td>
                <td>{{ app.user.prenom }}</td>
                <td><a href="{{ path("user_modifier", {id: app.user.id}) }}"><i class="fas fa-edit"></i></a></td>
            </tr>

        <tfoot>

          
        </tfoot>
    </table>

<h3>{% trans %}My diagnostics {% endtrans %}</h3>

    <table class="table table-bordered">

        <thead>
            <tr>
                <th>{% trans %}Id {% endtrans %}</th><th>{% trans %}Date {% endtrans %}</th><th>{% trans %}Payment status{% endtrans %}</th><th>{% trans %}Price{% endtrans %}</th><th>{% trans %}Expertise {% endtrans %}</th><th>{% trans %}Expertise status{% endtrans %}</th>
                <th>{% trans %}Actions {% endtrans %}</th>
            </tr>
        </thead>
        <tbody>
    {# Ici ça pose problème car pas encore rempli...? ou alors on appelle pas ce qu'il faut? A voir #}


        {# {% for critere in app.user.criteres %} #}
            {# <tr> #}
                {# <td>{{ critere.diagnostic.id }}</td> #}
                {# <td>{{ critere.diagnostic.date|date("d/m/Y") }}</td> #}
                {# <td>{{ critere.diagnostic.statut_paiement }}</td> #}
                {# <td>{{ critere.diagnostic.prix }}</td> #}
                {# <td>{{ critere.diagnostic.expertise }}</td> #}
                {# <td>{{ critere.diagnostic.statut_expert }}</td> #}
            {# </tr> #}
        {# {% endfor %} #}

        {% for users in user %}
            <tr>
                <td>{{ user.id }}</td>
                <td>{{ user.nom }}</td>
                <td>{{ user.prenom }}</td>


                {#<td><a href=""><i class="fas fa-eye"></i></a></td>#}

            </tr>
        {% endfor %}
        </tbody>
        <tfoot>
        </tfoot>
      </table>

      </div>
    </div>
  </div>
</div>

    <table class="table table-bordered">
        <thead>
            <tr>
                <th>N°diagnostic</th><th>Date</th><th>Prix</th><th>Expertise</th>
                
            </tr>
        </thead>
        {% for critere in app.user.criteres %}
            {% if critere.diagnostic.id is defined %}
            <tr>
                <td>{{ critere.diagnostic.id }}</td>
                <td>{{ critere.diagnostic.date|date("d/m/Y") }} </td>
                <td>{{ critere.diagnostic.prix }}</td>
                <td>{{ critere.diagnostic.expertise }}</td>
            </tr>
            {% endif %}
        {% endfor %}
        <tfoot>
            <td><a href=""><i class="fas fa-edit"></i></a></td>
        </tfoot>
    </table>
{% endblock %}






